<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
	.b1{
		width: 100px;
		height: 100px;
		background-color: red;
	}
	.b2{
		/* width: 200px; */
		height: 200px;
		background-color: green;
	}
</style>
<body>
	
	<button id="btn1">btn1</button>
	<button id="btn2">btn2</button>
	<br>
	<br>
	<div id="box1" class="b1"></div>

<script>
	/*
		class操作
	 */
	window.onload = function(){
		var btn1 = document.getElementById("btn1");
		var btn2 = document.getElementById("btn2");

		var box1 = document.getElementById("box1");

		btn1.onclick = function(){
			/*
				通过style属性修改的样式，没修改一次，浏览器就会重新渲染一次页面

			 */
			// box1.style.width = "200px";
			/*
				修改class属性，页面只重新渲染一次
			 */
			// box1.className += " b2";
			
			
			addClass(box1,"b2");
		}

		btn2.onclick = function(){
			//removeClass(box1,"b2");
			toggleClass(box1,"b2");
		}

		//添加class
		function addClass(obj, cn){
			if(!hasClass(obj,cn)){

				obj.className += " "+cn;
			}
		}
		// 判断是否有该class
		function hasClass(obj , cn ){

			var reg = new RegExp("\\b"+cn+"\\b");
			return reg.test(obj.className);

		}
		//移除class
		function removeClass(obj , cn){
			var reg = new RegExp("\\b"+cn+"\\b");
			obj.className = obj.className.replace(reg, "");

		}
		//切换
		function toggleClass(obj , cn){
			if (hasClass(obj,cn)) {

			removeClass(obj,cn);
				
			}else{
				
			addClass(obj,cn);
			}
		}


		/*
			JSON
				JavaScript Object Notaion Js对象表达法
				JSON字符串中的属性名必须加双引号
				JSON分类：
					对象{}
					数组[]
				JSON中的值：
					字符串
					数值
					布尔值
					nul
					对象
					数组
		 */
		var obj = '{"name":"lov","age":20,"gender":"man"}';
		var obj2 = {"name":"lov","age":20,"gender":"man"};
		/*
			json :js对象
				JSON.parse()
					将JSON字符串转换为js对象
				JSON.stringify()
					将js对象转换为JSON字符串
		 */
		console.log(JSON.parse(obj).name);
		console.log(JSON.stringify(obj2));
		/*
			eval()
				执行一段字符串形式的js代码，并将执行结果返回
				使用eval()执行的字符串中如有{}，会将{}当成代码块
				如果不希望以代码块解析，在字符串加()
				该函数功能很强大，但执行性能差，并有安全隐患	
		 */
		eval("console.log('eval')");

		console.log(eval("("+obj+")"));

	}
</script>	
</body>
</html>